{
  "name": "elasticsearch",
  "chef_type": "role",
  "json_class": "Chef::Role",
  "description": "Elasticsearch server role",
  "default_attributes": {
    "elasticsearch": {
      "cluster_name": "<%= config.name %>",
      "limits": {
        "nofile": 1024,
        "memlock": 512
      }
    },
    "java": {
      "jdk_version": "8"
    },
    "services": {
      "elasticsearch": [ "enable", "start" ]
    }
  },
  "run_list": [
    "recipe[java]",
    "recipe[elasticsearch]",
    "recipe[config-driven-helper::services]"
  ]
}
